{"version":3,"sources":["CartItem.js","reducer.js","context.js","data.js","Navbar.js","CartContainer.js","App.js","index.js"],"names":["CartItem","id","img","title","price","amount","useGlobalContext","remove","increase","decrease","className","src","alt","onClick","xmlns","viewBox","d","reducer","state","action","type","cart","filter","item","payload","tempCart","map","reduce","cartTotal","cartItem","total","parseFloat","toFixed","loading","AppContext","React","createContext","initialState","AppProvider","children","useReducer","dispatch","fetchData","a","fetch","response","json","cartData","console","log","useEffect","Provider","value","clearCart","useContext","Navbar","CartContainer","length","key","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15eb7abd.chunk.js","sourcesContent":["import React from \"react\";\r\nimport { useGlobalContext } from \"./context\";\r\nconst CartItem = ({ id, img, title, price, amount }) => {\r\n  const { remove, increase, decrease } = useGlobalContext();\r\n  return (\r\n    <article className=\"cart-item\">\r\n      <img src={img} alt={title} />\r\n      <div>\r\n        <h4>{title}</h4>\r\n        <h4 className=\"item-price\">${price}</h4>\r\n        {/* remove button */}\r\n        <button className=\"remove-btn\" onClick={() => remove(id)}>\r\n          remove\r\n        </button>\r\n      </div>\r\n      <div>\r\n        {/* increase amount */}\r\n        <button className=\"amount-btn\" onClick={() => increase(id)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\r\n          </svg>\r\n        </button>\r\n        {/* amount */}\r\n        <p className=\"amount\">{amount}</p>\r\n        {/* decrease amount */}\r\n        <button className=\"amount-btn\" onClick={() => decrease(id)}>\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\r\n          </svg>\r\n        </button>\r\n      </div>\r\n    </article>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import CartItem from \"./CartItem\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"CLEAR_CART\") {\r\n    return { ...state, cart: [] };\r\n  }\r\n  if (action.type === \"REMOVE\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.filter((item) => {\r\n        return item.id !== action.payload;\r\n      }),\r\n    };\r\n  }\r\n  if (action.type === \"INCREASE\") {\r\n    let tempCart = state.cart.map((item) => {\r\n      if (item.id === action.payload) {\r\n        return {\r\n          ...item,\r\n          amount: item.amount + 1,\r\n        };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  if (action.type === \"DECREASE\") {\r\n    let tempCart = state.cart.map((item) => {\r\n      if (item.id === action.payload) {\r\n        return { ...item, amount: item.amount <= 1 ? 1 : item.amount - 1 };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  if (action.type === \"GET_TOTALS\") {\r\n    let { total, amount } = state.cart.reduce(\r\n      (cartTotal, cartItem) => {\r\n        const { amount, price } = cartItem;\r\n        cartTotal.amount += amount;\r\n        cartTotal.total += amount * price;\r\n        return cartTotal;\r\n      },\r\n      {\r\n        total: 0,\r\n        amount: 0,\r\n      }\r\n    );\r\n    total = parseFloat(total.toFixed(2));\r\n    return { ...state, total, amount };\r\n  }\r\n\r\n  if (action.type === \"LOADING\") {\r\n    return { ...state, loading: true };\r\n  }\r\n\r\n  if (action.type === \"DISPLAY_ITEM\") {\r\n    return { ...state, cart: action.payload, loading: false };\r\n  }\r\n\r\n  return state;\r\n};\r\n\r\nexport default reducer;\r\n","import React, { useState, useContext, useReducer, useEffect } from \"react\";\r\nimport cartItems from \"./data\";\r\nimport reducer from \"./reducer\";\r\n// ATTENTION!!!!!!!!!!\r\n// I SWITCHED TO PERMANENT DOMAIN\r\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\r\nconst AppContext = React.createContext();\r\n\r\nconst initialState = {\r\n  loading: false,\r\n  cart: cartItems,\r\n  total: 0,\r\n  amount: 0,\r\n};\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const [state, dispatch] = useReducer(reducer, initialState);\r\n\r\n  const clearCart = () => {\r\n    dispatch({ type: \"CLEAR_CART\" });\r\n  };\r\n\r\n  const remove = (id) => {\r\n    dispatch({ type: \"REMOVE\", payload: id });\r\n  };\r\n\r\n  const increase = (id) => {\r\n    dispatch({ type: \"INCREASE\", payload: id });\r\n  };\r\n  const decrease = (id) => {\r\n    dispatch({ type: \"DECREASE\", payload: id });\r\n  };\r\n\r\n  const fetchData = async () => {\r\n    try {\r\n      dispatch({ type: \"LOADING\" });\r\n      const response = await fetch(url);\r\n      const cartData = await response.json();\r\n      dispatch({ type: \"DISPLAY_ITEM\", payload: cartData });\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"GET_TOTALS\" });\r\n  }, [state.cart]);\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        ...state,\r\n        clearCart,\r\n        remove,\r\n        increase,\r\n        decrease,\r\n      }}\r\n    >\r\n      {children}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n// make sure use\r\nexport const useGlobalContext = () => {\r\n  return useContext(AppContext);\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n","export default [\r\n  {\r\n    id: 1,\r\n    title: 'Samsung Galaxy S7',\r\n    price: 599.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'google pixel ',\r\n    price: 499.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png',\r\n    amount: 1,\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Xiaomi Redmi Note 2',\r\n    price: 699.99,\r\n    img:\r\n      'https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png',\r\n    amount: 1,\r\n  },\r\n];\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"./context\";\r\nconst Navbar = () => {\r\n  const { amount } = useGlobalContext();\r\n  return (\r\n    <nav>\r\n      <div className=\"nav-center\">\r\n        <h3>useReducer</h3>\r\n        <div className=\"nav-container\">\r\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\r\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\r\n          </svg>\r\n          <div className=\"amount-container\">\r\n            <p className=\"total-amount\">{amount}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import React from \"react\";\r\nimport CartItem from \"./CartItem\";\r\nimport { useGlobalContext } from \"./context\";\r\n\r\nconst CartContainer = () => {\r\n  const { cart, total, clearCart } = useGlobalContext();\r\n  if (cart.length === 0) {\r\n    return (\r\n      <section className=\"cart\">\r\n        {/* cart header */}\r\n        <header>\r\n          <h2>your bag</h2>\r\n          <h4 className=\"empty-cart\">is currently empty</h4>\r\n        </header>\r\n      </section>\r\n    );\r\n  }\r\n  return (\r\n    <section className=\"cart\">\r\n      {/* cart header */}\r\n      <header>\r\n        <h2>your bag</h2>\r\n      </header>\r\n      {/* cart items */}\r\n      <div>\r\n        {cart.map((item) => {\r\n          return <CartItem key={item.id} {...item} />;\r\n        })}\r\n      </div>\r\n      {/* cart footer */}\r\n      <footer>\r\n        <hr />\r\n        <div className=\"cart-total\">\r\n          <h4>\r\n            total <span> ${total}</span>\r\n          </h4>\r\n        </div>\r\n        <button className=\"btn clear-btn\" onClick={clearCart}>\r\n          clear cart\r\n        </button>\r\n      </footer>\r\n    </section>\r\n  );\r\n};\r\n\r\nexport default CartContainer;\r\n","import React from \"react\";\r\nimport { useGlobalContext } from \"./context\";\r\n\r\n// components\r\nimport Navbar from \"./Navbar\";\r\nimport CartContainer from \"./CartContainer\";\r\n// items\r\n\r\nfunction App() {\r\n  const { loading } = useGlobalContext();\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">\r\n        <h1>Loading...</h1>\r\n      </div>\r\n    );\r\n  }\r\n  return (\r\n    <main>\r\n      <Navbar />\r\n      <CartContainer />\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport { AppProvider } from './context';\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <AppProvider>\r\n      <App />\r\n    </AppProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}